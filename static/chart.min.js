//https://gist.github.com/Tafkas/4742250
function computeSunrise(e,t){var n=-9.135499;var r=38.707126;var i=90.83333333333333;var s=Math.PI/180;var o=180/Math.PI;var u=n/15;var a;if(t){a=e+(6-u)/24}else{a=e+(18-u)/24}M=.9856*a-3.289;L=M+1.916*Math.sin(M*s)+.02*Math.sin(2*M*s)+282.634;if(L>360){L=L-360}else if(L<0){L=L+360}RA=o*Math.atan(.91764*Math.tan(L*s));if(RA>360){RA=RA-360}else if(RA<0){RA=RA+360}Lquadrant=Math.floor(L/90)*90;RAquadrant=Math.floor(RA/90)*90;RA=RA+(Lquadrant-RAquadrant);RA=RA/15;sinDec=.39782*Math.sin(L*s);cosDec=Math.cos(Math.asin(sinDec));cosH=(Math.cos(i*s)-sinDec*Math.sin(r*s))/(cosDec*Math.cos(r*s));var f;if(t){f=360-o*Math.acos(cosH)}else{f=o*Math.acos(cosH)}f=f/15;T=f+RA-.06571*a-6.622;UT=T-u;if(UT>24){UT=UT-24}else if(UT<0){UT=UT+24}localT=UT+1;return localT*3600*1e3}
function dayOfYear(){var e=Math.floor((new Date).setFullYear((new Date).getFullYear(),0,1)/864e5);var t=Math.ceil((new Date).getTime()/864e5);var n=t-e;return n}
Highcharts.setOptions({global:{useUTC:false}});options={chart:{renderTo:"content",type:"spline"},title:{text:"Temperatures"},subtitle:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{hour:"%H. %M"}},yAxis:{title:{text:"T (°C)"}},tooltip:{formatter:function(){return"<b>"+this.series.name+"</b><br/>"+Highcharts.dateFormat("%H:%M",this.x)+": "+this.y.toFixed(1)+"°C"}},plotOptions:{series:{marker:{radius:2}}},lineWidth:1,series:[]}
function GetUrlPath(){urlPath=window.location.pathname.split(".")[0].substring(1).split("/")[1];if(urlPath=="humidity"){return"humid"}else{return"temperature"}}
function GetUrlParameter(){idx=window.location.href.indexOf("?");if(idx<0)return"";return window.location.href.substring(idx+1)}
function GetChartXml(){switch(urlParameter){case"3h":case"48h":case"1w":case"1m":case"3m":case"1y":return"data/"+urlPath+urlParameter+".xml"}return"data/"+urlPath+"24h.xml"}
function GetBandsNumber(){switch(urlParameter){case"3h": return 0;case"48h": return 2;case"1w": return 8;case"1m": return 31;case"3m": return 0;case"1y": return 0}return 1}
function GetChartTitle(){var e="Temperatures";if(urlPath=="humid"){e="Humidity"}switch(urlParameter){case"3h":return e+" of the last 3 hours";case"48h":return e+" of the last 48 hours";case"1w":return e+" of the last week";case"1m":return e+" of the last month";case"3m":return e+" of the last 3 month";case"1y":return e+" of the last year"}return e+" of the last 24 hours"}
urlPath="temps";
urlParameter=GetUrlParameter();
